-- Returns the ST_Geometry type of the ST_Geometry value.

CREATE OR REPLACE FUNCTION st_geographytype(geo GEOGRAPHY)
  RETURNS string
  AS
  $$
    ST_ASGEOJSON(geo):type::string
  $$
  ;

select st_geographytype(to_geography('POLYGON((-108.720703125 34.99400375800002,-100.01953124999999 46.589069083,
-90.791015625 34.921971036,-108.720703125 34.99400375800002),(-100.10742187500001 41.47566019999999,
-102.919921875 37.614231415000006,-96.85546875 37.54457732099998,-100.10742187500001 41.47566019999999))')) as geog_type;